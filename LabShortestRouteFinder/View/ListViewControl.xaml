<UserControl x:Class="LabShortestRouteFinder.View.ListViewControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <DataGrid Grid.Row="0" 
                  ItemsSource="{Binding Routes}" 
                  AutoGenerateColumns="False" 
                  Name="routeGrid"
                  Margin="10">
            <DataGrid.Resources>
                <CollectionViewSource x:Key="CitiesCollection" Source="{Binding Cities}"/>
            </DataGrid.Resources>
            
            <DataGrid.Columns>
                <DataGridComboBoxColumn Header="Start" 
                                      SelectedValueBinding="{Binding Start}"
                                      ItemsSource="{Binding Source={StaticResource CitiesCollection}}"
                                      SelectedValuePath="Name"
                                      DisplayMemberPath="Name"
                                      Width="*"/>
                <DataGridComboBoxColumn Header="Destination" 
                                      SelectedValueBinding="{Binding Destination}"
                                      ItemsSource="{Binding Source={StaticResource CitiesCollection}}"
                                      SelectedValuePath="Name"
                                      DisplayMemberPath="Name"
                                      Width="*"/>
                <DataGridTextColumn Header="Distance (km)" 
                                  Binding="{Binding Distance, UpdateSourceTrigger=PropertyChanged}" 
                                  Width="auto"/>
                <DataGridTextColumn Header="Cost (SEK)" 
                                  Binding="{Binding Cost, UpdateSourceTrigger=PropertyChanged}" 
                                  Width="auto"/>
            </DataGrid.Columns>
        </DataGrid>

        <Button Grid.Row="1" 
                Content="Save Routes" 
                Command="{Binding SaveRoutesCommand}" 
                HorizontalAlignment="Right"
                Margin="10"
                Padding="10,5"
                Width="100"/>
    </Grid>
</UserControl>